"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[446],{99057:(t,e,s)=>{s.r(e),s.d(e,{default:()=>c});var n=s(20629),i=s(74865),o=s.n(i);const a={computed:(0,n.Se)(["currentUserPermissions","currentUser"]),metaInfo:{title:"Detail OBReport"},data:function(){return{isLoading:!0,quote:{},company:{},email:{to:"",subject:"",message:"",client_name:"",Quote_Ref:""}}},methods:{print:function(){this.$htmlToPaper("print_Invoice")},Quote_PDF:function(){var t=this;o().start(),o().set(.1);var e=this.$route.params.id;axios.get("quote_pdf/".concat(e),{responseType:"blob",headers:{"Content-Type":"application/json"}}).then((function(e){var s=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=s,n.setAttribute("download","OBReport"+t.quote.Ref+".pdf"),document.body.appendChild(n),n.click(),setTimeout((function(){return o().done()}),500)})).catch((function(){setTimeout((function(){return o().done()}),500)}))},Get_Details:function(){var t=this,e=this.$route.params.id;axios.get("obreports/".concat(e)).then((function(e){t.quote=e.data.quote,t.company=e.data.company,t.isLoading=!1})).catch((function(e){setTimeout((function(){t.isLoading=!1}),500)}))},makeToast:function(t,e,s){this.$root.$bvToast.toast(e,{title:s,variant:t,solid:!0})},Quote_Email:function(){this.email.to=this.quote.client_email,this.email.Quote_Ref=this.quote.Ref,this.email.client_name=this.quote.client_name,this.SendEmail()},SendEmail:function(){var t=this;o().start(),o().set(.1);var e=this.$route.params.id;axios.post("quotations_send_email",{id:e,to:this.email.to,client_name:this.email.client_name,Ref:this.email.Quote_Ref}).then((function(e){setTimeout((function(){return o().done()}),500),t.makeToast("success",t.$t("Send.TitleEmail"),t.$t("Success"))})).catch((function(e){setTimeout((function(){return o().done()}),500),t.makeToast("danger",t.$t("SMTPIncorrect"),t.$t("Failed"))}))},Quote_SMS:function(){var t=this;o().start(),o().set(.1);var e=this.$route.params.id;axios.post("quotations_send_sms",{id:e}).then((function(e){setTimeout((function(){return o().done()}),500),t.makeToast("success",t.$t("Send_SMS"),t.$t("Success"))})).catch((function(e){setTimeout((function(){return o().done()}),500),t.makeToast("danger",t.$t("sms_config_invalid"),t.$t("Failed"))}))},Remove_Quote:function(){var t=this,e=this.$route.params.id;this.$swal({title:this.$t("Delete.Title"),text:this.$t("Delete.Text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:this.$t("Delete.cancelButtonText"),confirmButtonText:this.$t("Delete.confirmButtonText")}).then((function(s){s.value&&axios.delete("quotations/"+e).then((function(){t.$swal(t.$t("Delete.Deleted"),t.$t("Delete.QuoteDeleted"),"success"),t.$router.push({name:"index_obreport"})})).catch((function(){t.$swal(t.$t("Delete.Failed"),t.$t("Delete.Therewassomethingwronge"),"warning")}))}))}},created:function(){this.Get_Details()}};const c=(0,s(51900).Z)(a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-content"},[e("breadcumb",{attrs:{page:t.$t("Detail OBReport"),folder:t.$t("ListOBReport")}}),t._v(" "),t.isLoading?e("div",{staticClass:"loading_page spinner spinner-primary mr-3"}):t._e(),t._v(" "),t.isLoading?t._e():e("b-card",[e("b-row",[e("b-col",{staticClass:"mb-5",attrs:{md:"12"}},[e("button",{staticClass:"btn-sm btn btn-light ripple btn-icon m-1",on:{click:function(e){return t.Quote_PDF()}}},[e("i",{staticClass:"i-File-TXT"}),t._v(" PDF\n        ")]),t._v(" "),e("button",{staticClass:"btn-sm btn btn-warning ripple btn-icon m-1",on:{click:function(e){return t.print()}}},[e("i",{staticClass:"i-Billing"}),t._v("\n          "+t._s(t.$t("print"))+"\n        ")])])],1),t._v(" "),e("div",{staticClass:"invoice",attrs:{id:"print_Invoice"}},[e("div",{staticClass:"invoice-print"},[e("b-row",{staticClass:"justify-content-md-center"},[e("h4",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("Detail OBReport"))+" : "+t._s(t.quote.Ref))])]),t._v(" "),e("hr"),t._v(" "),e("b-row",{staticClass:"mt-5"},[e("b-col",{staticClass:"mb-4",attrs:{md:"4"}},[e("h5",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("Client Info")))]),t._v(" "),e("div",[t._v(t._s(t.$t("Client Name"))+" : "+t._s(t.quote.client_name))]),t._v(" "),e("div",[t._v(t._s(t.$t("Reported Branch"))+" : "+t._s(t.quote.branch))])]),t._v(" "),e("b-col",{staticClass:"mb-4",attrs:{md:"4"}},[e("h5",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("Report Info")))]),t._v(" "),e("div",[t._v(t._s(t.$t("Reference No."))+" : "+t._s(t.quote.Ref))]),t._v(" "),e("div",[t._v(t._s(t.$t("Occurence Subject"))+" : "+t._s(t.quote.subject))]),t._v(" "),e("div",[t._v(t._s(t.$t("(Client) Personel Involved"))+" : "+t._s(t.quote.client_personel))]),t._v(" "),e("div",[t._v(t._s(t.$t("(Inovet) Personel Involved"))+" : "+t._s(t.quote.personel))]),t._v(" "),e("div",[t._v(t._s(t.$t("Escalated To"))+" : "+t._s(t.quote.escalate))])]),t._v(" "),e("b-col",{staticClass:"mb-4",attrs:{md:"4"}},[e("h5",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("Reporter Info")))]),t._v(" "),e("div",[t._v(t._s(t.$t("Reporter Name"))+" : "+t._s(t.quote.reporter_name))]),t._v(" "),e("div",[t._v(t._s(t.$t("Reporter ID"))+" : "+t._s(t.quote.reporter_id))]),t._v(" "),e("div",[t._v(t._s(t.$t("Reporter Cell No"))+" : "+t._s(t.quote.phone))]),t._v(" "),e("div",[t._v(t._s(t.$t("date"))+" : "+t._s(t.quote.date))])])],1),t._v(" "),e("b-row",{staticClass:"mt-3"}),t._v(" "),e("hr",{directives:[{name:"show",rawName:"v-show",value:t.quote.note,expression:"quote.note"}]}),t._v(" "),e("b-row",{staticClass:"mt-4"},[e("h5",{staticClass:"font-weight-bold",attrs:{md:"12"}},[t._v(t._s(t.$t("Occurence Details")))]),t._v(" "),e("b-col",{attrs:{md:"12"}},[e("p",[t._v(t._s(t.quote.note))])])],1)],1)])],1)],1)}),[],!1,null,null,null).exports}}]);